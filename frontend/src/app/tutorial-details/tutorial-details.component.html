<div *ngIf="viewMode && currentTutorial">
  <div class="mb-2"><strong>Título:</strong> {{ currentTutorial.title }}</div>
  <div class="mb-2"><strong>Descrição:</strong> {{ currentTutorial.description }}</div>
  <div class="mb-2"><span class="badge" [class.bg-success]="currentTutorial.published" [class.bg-secondary]="!currentTutorial.published">{{ currentTutorial.published ? 'Publicado' : 'Rascunho' }}</span></div>
  <a class="btn btn-sm btn-primary" [routerLink]="['/tutorials', currentTutorial.id]" [state]="{ showBreadcrumb: true, parentLabel: 'Dashboard', childLabel: 'Editar' }">Editar</a>
</div>

<div *ngIf="!viewMode">
  <output *ngIf="loading" class="spinner-border spinner-border-sm" aria-live="polite">Carregando…</output>
  <form [formGroup]="form" *ngIf="form">
    <div class="mb-3">
      <label class="form-label" for="title">Título</label>
      <input id="title" type="text" class="form-control" formControlName="title" [attr.aria-invalid]="form.get('title')?.invalid ? 'true' : null">
    </div>
    <div class="mb-3">
      <label class="form-label" for="description">Descrição</label>
      <textarea id="description" class="form-control" rows="4" formControlName="description"></textarea>
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="published" formControlName="published" (change)="updatePublished(form.get('published')!.value)">
      <label class="form-check-label" for="published">Publicado</label>
    </div>
    <div class="d-flex gap-2">
      <button type="button" class="btn btn-success" (click)="updateTutorial()" [disabled]="form.invalid">Salvar</button>
      <button type="button" class="btn btn-danger" (click)="deleteTutorial()">Excluir</button>
    </div>
    <output class="text-success mt-2" *ngIf="message" aria-live="polite">{{ message }}</output>
  </form>
</div>